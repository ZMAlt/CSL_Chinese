<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Mao Zhou" />
  <title>样式结构 - CSL_Chinese</title>
  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
  <link rel="stylesheet" href="/style.css"/>
    <script src="/mousetrap.min.js"></script>
    <style>
  @font-face {
    font-family: JuliaMono-Regular;
    src: url("/JuliaMono-Regular.woff2");
  }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <link rel="stylesheet" href="/github.min.css">
<script src="/highlight.min.js"></script>
<script src="/julia.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('pre').forEach((el) => {
        if (!el.classList.contains('output')) {
            hljs.highlightElement(el);
        }
    });
});
</script>
 
</head>
<body>
<script>
function click_next() {
  var next = document.getElementById('nav-next');
  next.firstElementChild.nextElementSibling.click();
}
function click_prev() {
  var prev = document.getElementById('nav-prev');
  prev.firstElementChild.click();
}
Mousetrap.bind('right', click_next);
Mousetrap.bind('h', click_prev);
Mousetrap.bind('left', click_prev);
Mousetrap.bind('l', click_next);
</script>

<div class="books-container">
<aside class="books-menu">
<input type="checkbox" id="menu">
<label for="menu">☰</label>
<div class="books-title">
<a href="/">CSL_Chinese</a>
</div><br />
<span class="books-subtitle">

</span>
<div class="books-menu-content">
<li><a class="menu-level-1" href="/welcome-1"><b></b> Welcome</a></li>
<li><a class="menu-level-1" href="/csl-介绍"><b>1</b> CSL 介绍</a></li>
<li><a class="menu-level-2" href="/前言"><b>1.1</b> 前言</a></li>
<li><a class="menu-level-2" href="/csl-是什么"><b>1.2</b> CSL 是什么</a></li>
<li><a class="menu-level-2" href="/引用格式"><b>1.3</b> 引用格式</a></li>
<li><a class="menu-level-2" href="/csl-生态"><b>1.4</b> CSL 生态</a></li>
<li><a class="menu-level-2" href="/理解-csl-格式"><b>1.5</b> 理解 CSL 格式</a></li>
<li><a class="menu-level-2" href="/更进一步"><b>1.6</b> 更进一步</a></li>
<li><a class="menu-level-1" href="/xml基础"><b>2</b> XML基础</a></li>
<li><a class="menu-level-2" href="/元素"><b>2.1</b> 元素</a></li>
<li><a class="menu-level-2" href="/属性"><b>2.2</b> 属性</a></li>
<li><a class="menu-level-2" href="/预定义实体表"><b>2.3</b> 预定义实体表</a></li>
<li><a class="menu-level-1" href="/csl-1.0.1-规范"><b>3</b> CSL 1.0.1 规范</a></li>
<li><a class="menu-level-2" href="/介绍"><b>3.1</b> 介绍</a></li>
<li><a class="menu-level-2" href="/命名习惯"><b>3.2</b> 命名习惯</a></li>
<li><a class="menu-level-2" href="/翻译习惯"><b>3.3</b> 翻译习惯</a></li>
<li><a class="menu-level-2" href="/文件类型"><b>3.4</b> 文件类型</a></li>
<li><a class="menu-level-2" href="/xml-声明"><b>3.5</b> XML 声明</a></li>
<li><a class="menu-level-2" href="/样式结构"><b>3.6</b> 样式结构</a></li>
<li><a class="menu-level-2" href="/locale-files本地化文件"><b>3.7</b> Locale Files(本地化文件)</a></li>
<li><a class="menu-level-2" href="/渲染元素"><b>3.8</b> 渲染元素</a></li>
<li><a class="menu-level-2" href="/样式行为"><b>3.9</b> 样式行为</a></li>
<li><a class="menu-level-2" href="/附录i-学科分类"><b>3.10</b> 附录I 学科分类</a></li>
<li><a class="menu-level-2" href="/附录ii-术语"><b>3.11</b> 附录II 术语</a></li>
<li><a class="menu-level-2" href="/附录iii-文献类型"><b>3.12</b> 附录III 文献类型</a></li>
<li><a class="menu-level-2" href="/附录iv-变量"><b>3.13</b> 附录IV 变量</a></li>
<li><a class="menu-level-2" href="/附录v-页码范围格式"><b>3.14</b> 附录V 页码范围格式</a></li>
<li><a class="menu-level-1" href="/locale-file"><b>4</b> Locale File</a></li>
<li><a class="menu-level-2" href="/前言-1"><b>4.1</b> 前言</a></li>
<li><a class="menu-level-2" href="/开始"><b>4.2</b> 开始</a></li>
<li><a class="menu-level-2" href="/转换-locale-files"><b>4.3</b> 转换 Locale Files</a></li>
<li><a class="menu-level-2" href="/section"><b>4.4</b> </a></li>
</div>
</aside>

<div class="books-content">
<h2 data-number="3.6" id="样式结构"><span class="header-section-number">3.6</span> 样式结构</h2>
<h3 data-number="3.6.1" id="根元素-csstyle"><span class="header-section-number">3.6.1</span> 根元素 <code>cs:style</code></h3>
<p>样式的根元素是<code>cs:style</code>。在独立格式中，根元素携带以下几种属性：</p>
<p><code>class</code></p>
<p>​ 决定样式的引文类型是 in-text (值是 <code>"in-text"</code>) 或者 note (值是<code>"note"</code>) 。in-text表示引文在文字中，note 表示引文不在文字中，可能是脚注等等。</p>
<p><code>default-locale</code> (可选)</p>
<p>​ 为本地化设值默认的 locale。值必须是 <a href="http://books.xmlschemata.org/relaxng/ch19-77191.html">locale code</a>。</p>
<p><code>version</code></p>
<p>​ 样式的 CSL 版本。对于 CSL 1.0 兼容样式，必须是 <code>"1.0"</code>。</p>
<p>此外，<code>cs:style</code>可能携带任意的<a href="#全局选项">全局选项</a>和 <a href="#可继承的名称选项">可继承名称选项</a>。</p>
<p>在这些属性中，从属格式中，只有<code>version</code>是必须的， <code>default-locale</code> 属性可以设置用来代替的默认的本地化文件 。其他的属性是可以忽略的。</p>
<p>下面是一个独立样式的 <code>cs:style</code>示例，最前面是 XML 声明：</p>
<pre class="xml"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;style xmlns=&quot;http://purl.org/net/xbiblio/csl&quot; version=&quot;1.0&quot; class=&quot;in-text&quot; default-locale=&quot;fr-FR&quot;/&gt;</code></pre>
<h3 data-number="3.6.2" id="csstyle的子元素"><span class="header-section-number">3.6.2</span> <code>cs:style</code>的子元素</h3>
<p>在独立格式中，<code>cs:style</code>有以下子元素：</p>
<p><code>cs:info</code></p>
<p>​ <code>info</code>元素必须是<code>cs:style</code>的第一个子元素。其中包括了用来描述样式的元数据 (style name, ID, authors，也就是样式名称、样式ID以及样式的作者)。</p>
<p><code>cs:citation</code></p>
<p>​ 必要元素，用来描述 in-text 引文或者 notes 引文的具体格式。</p>
<p><code>cs:bibliography</code> (可选)</p>
<p>​ 可能会出现一次。描述参考文献列表的格式。</p>
<p><code>cs:macro</code> (可选)</p>
<p>​ 可能多次出现。宏通过格式化指示来重复使用，可以使样式更加的紧凑和易维护。</p>
<p><code>cs:locale</code> (可选)</p>
<p>​ 可能多次出现。用于指定或者覆盖当前的本地化数据。</p>
<p>在<a href="#从属格式">从属格式</a>中，<code>cs:style</code>只有一个子元素，<code>cs:info</code>。</p>
<h4 data-number="3.6.2.1" id="info"><span class="header-section-number">3.6.2.1</span> Info</h4>
<p><code>cs:info</code>包含了样式的元数据。其结构基于<a href="http://tools.ietf.org/html/rfc4287">Atom Syndication Format</a>。在独立格式中，<code>cs:info</code>有下面的几个子元素：</p>
<p><code>cs:author</code>和<code>cs:contributor</code> （可选）</p>
<p>​ <code>cs:author</code>和<code>cs:contributor</code>分别用来致谢样式的作者和贡献者，可能被使用多次。在这些元素中，必须包含子元素<code>cs:name</code>，<code>cs:email</code>和<code>cs:uri</code>则可能有，也可能没有，这些子元素分别代表作者或者贡献者的名字，邮箱和URI。（即，作者和贡献者的名字是必须的，邮箱和 URI 则是可选的）</p>
<p><code>cs:category</code> (可选)</p>
<p>​ 样式可能被分类到一个或者多个类别，<code>cs:category</code>可能被使用一次，用来描述 in-text 引文怎么渲染。使用<code>citation-format</code>属性设置其为以下几种情形：</p>
<ul>
<li><p>“author-date” - 例如 “… (Doe, 1999)”</p></li>
<li><p>“author” - 例如 “… (Doe)”</p></li>
<li><p>“numeric” - 例如 “… [1]”</p></li>
<li><p>“label” - 例如 “… [doe99]”</p></li>
<li><p>“note” - 因为在边注或者脚注出现。</p>
<p><code>cs:categroy</code>也可能在携带<code>field</code>属性时多次使用，用来对学科进行分类（见<a href="附录I%20学科分类">附录I 学科分类</a>）。</p></li>
</ul>
<p><code>cs:id</code></p>
<p>​ 必须出现一次。该元素应该包含一个 URI 以建立样式的<code>ID</code>，对于公开可用的样式，需要一个稳定、唯一的并可以引用的 URI。</p>
<p><code>cs:issn/cs:essn/cs:issnl</code>（可选）</p>
<p>​ <code>cs:issn</code>元素可以多次使用，用来表示该 CSL 对应的期刊的 ISSN 。 <code>cs:eissn</code> 和<code>cs:issnl</code> 可以分别用来表示 eISSN 和 <a href="http://www.issn.org/2-22637-What-is-an-ISSN-L.php">ISSN-L</a> 。</p>
<p><code>cs:link</code> (可选)</p>
<p>​ 可以使用多次。<code>cs:link</code>必须携带两个属性<code>href</code>和<code>rel</code>。<code>href</code>用来设置 URI （通常情况下为 URL），<code>rel</code>表明 URI 与当前样式的关系，它的值可能是：</p>
<ul>
<li>“self” - 该 URI 值为样式的 URI</li>
<li>“template” - 该 URI 是用来编写该样式的模板的 URI</li>
<li>“documentation” - 该 URI 是该样式的文档</li>
</ul>
<p><code>cs:published</code> (可选)</p>
<p>​ <code>cs:published</code>必须是一个<a href="http://books.xmlschemata.org/relaxng/ch19-77049.html">时间戳</a>，用来表明样式创建的时间或者可获得的时间。</p>
<p><code>cs:rights</code> (可选)</p>
<p>​ <code>cs:rights</code>表明了该 CSL 的 license，可能会携带<code>license</code>属性。</p>
<p><code>cs:summary</code> (可选)</p>
<p>​ 给出该 CSL 的简单描述。</p>
<p><code>cs:title</code></p>
<p>​ 其内容应该是该 CSL 展示给使用者的名字。</p>
<p><code>cs:title-short</code> (可选)</p>
<p>​ 是上述名字的缩写，比如<code>APA</code></p>
<p><code>cs:updated</code></p>
<p>​ 内容是一个<a href="http://books.xmlschemata.org/relaxng/ch19-77049.html">时间戳</a>，用来表示该 CSL 的最后更新时间。</p>
<p><code>cs:link</code>, <code>cs:rights</code>, <code>cs:summary</code>, <code>cs:title</code> 和 <code>cs:title-short</code>元素可以携带<code>xml:lang</code>属性用来表示元素内容的语言（值必须是<a href="http://books.xmlschemata.org/relaxng/ch19-77191.html">xsd:language locale code</a>中的一个）。对于<code>cs:link</code>，该属性可以用来表示链接目标的语言。</p>
<p>在从属格式中，当<code>cs:link</code>中的 <code>href</code>为其父格式的 URI 时，<code>rel</code>属性必须设置为<code>"independent-parent"</code>。此外，从属格式的<code>ref</code>不能设置为<code>"template"</code>，这在独立格式中才能使用。</p>
<p>下面是一个独立样式<code>cs:info</code>的例子：</p>
<pre class="xml"><code>&lt;info&gt;
  &lt;title&gt;Style Title&lt;/title&gt;
  &lt;id&gt;http://www.zotero.org/styles/style-title&lt;/id&gt;
  &lt;link href=&quot;http://www.zotero.org/styles/style-title&quot; rel=&quot;self&quot;/&gt;
  &lt;author&gt;
    &lt;name&gt;Author Name&lt;/name&gt;
    &lt;email&gt;name@domain.com&lt;/email&gt;
    &lt;uri&gt;http://www.domain.com/name&lt;/uri&gt;
  &lt;/author&gt;
  &lt;category citation-format=&quot;author-date&quot;/&gt;
  &lt;category field=&quot;zoology&quot;/&gt;
  &lt;updated&gt;2008-10-29T21:01:24+00:00&lt;/updated&gt;
  &lt;rights license=&quot;http://creativecommons.org/licenses/by-sa/3.0/&quot;&gt;This work
  is licensed under a Creative Commons Attribution-Share Alike 3.0 Unported
  License&lt;/rights&gt;
&lt;/info&gt;</code></pre>
<h4 data-number="3.6.2.2" id="citation"><span class="header-section-number">3.6.2.2</span> Citation</h4>
<p><code>cs:citation</code>元素描述了引文的格式，其中引文可以是一条或者多条。引文的格式可能是 in-text citations（即文字中的引文）和 notes（注记）。in-text citations 包括 (<code>"author"，例: [Doe]</code>，<code>"author-date"，例: [Doe 1999]</code>，<code>"label"，例: [doe99]</code>，<code>"author"，例: [Doe]</code> 或者 <code>"number"，例:[1]</code> ) 。这要求<code>cs:layout</code>子元素来描述什么样的数据，以及怎么被引用（见<a href="Layout">Layout</a>）。在<code>cs:layout</code>之前可能会有<code>cs:sort</code>元素，用来描述引文的排序（见<a href="排序">排序</a>）。此外，<code>cs:style</code>可能携带任意的<a href="#引文选项">引文选项</a>和 <a href="#可继承的名称选项">可继承名称选项</a>中的属性。下面是一个<code>cs:citation</code>的例子：</p>
<pre class="xml"><code>&lt;citation&gt;
  &lt;sort&gt;
    &lt;key variable=&quot;citation-number&quot;/&gt;
  &lt;/sort&gt;
  &lt;layout&gt;
    &lt;text variable=&quot;citation-number&quot;/&gt;
  &lt;/layout&gt;
&lt;/citation&gt;</code></pre>
<p><strong>对 CSL 处理器开发者的一个建议</strong></p>
<p>在 note 格式中，引文通常是一个句子。因此，当注释前面没有内容时，引文的首字母最好大写。在其他情况，引文应该是用原样打印。</p>
<h4 data-number="3.6.2.3" id="bioliography"><span class="header-section-number">3.6.2.3</span> Bioliography</h4>
<p><code>cs:bioliography</code>元素描述了参考文献条目的格式。同<code>cs:citation</code>相同，其子元素<code>cs:layout</code>用来描述每个条目的格式，<code>cs:sort</code>元素用来描述条目的排序。此外，<code>cs:bibliography</code>可能携带任意的<a href="#参考文献目录选项">参考文献目录选项</a>和 <a href="#可继承的名称选项">可继承名称选项</a>中的属性。下面是一个<code>cs:bioliography</code>的例子：</p>
<pre class="xml"><code>&lt;bibliography&gt;
  &lt;sort&gt;
    &lt;key macro=&quot;author&quot;/&gt;
  &lt;/sort&gt;
  &lt;layout&gt;
    &lt;group delimiter=&quot;. &quot;&gt;
      &lt;text macro=&quot;author&quot;/&gt;
      &lt;text variable=&quot;title&quot;/&gt;
    &lt;/group&gt;
  &lt;/layout&gt;
&lt;/bibliography&gt;</code></pre>
<h4 data-number="3.6.2.4" id="macro"><span class="header-section-number">3.6.2.4</span> Macro</h4>
<p>宏，使用<code>cs:macro</code>元素定义，包含了格式的指令。宏可以在其他宏，<code>cs:layout</code>元素(<code>cs:citation</code>和<code>cs:bioliography</code>中)，<code>cs:key</code>元素(<code>cs:sort</code>元素)中通过<code>cs:text</code>调用。宏在文件中位置的通常建议是：放在<code>cs:locale</code>元素后以及<code>cs:citation</code>元素前。</p>
<p>宏通过<code>cs:macro</code>元素的属性<code>name</code>的值来调用。<code>cs:macro</code>必须包含一个或者多个<a href="#渲染元素">渲染元素</a>。</p>
<p>使用宏可以提高样式的可读性，紧凑性以及可维护性。通过过宏调用来保持<code>cs:citation</code>元素和<code>cs:bioliography</code>元素的内容紧凑通常是推荐的做法。为了在其他样式中方便的重复使用，宏名字建议使用通用的名字。</p>
<p>下面是一个实例：引文中包括项目题目，并当条目为<code>"book"</code>时，设置字体为<code>italic</code>。</p>
<pre class="xml"><code>&lt;style&gt;
  &lt;macro name=&quot;title&quot;&gt;
    &lt;choose&gt;
      &lt;if type=&quot;book&quot;&gt;
        &lt;text variable=&quot;title&quot; font-style=&quot;italic&quot;/&gt;
      &lt;/if&gt;
      &lt;else&gt;
        &lt;text variable=&quot;title&quot;/&gt;
      &lt;/else&gt;
    &lt;/choose&gt;
  &lt;/macro&gt;
  &lt;citation&gt;
    &lt;layout&gt;
      &lt;text macro=&quot;title&quot;/&gt;
    &lt;/layout&gt;
  &lt;/citation&gt;
&lt;/style&gt;</code></pre>
<h4 data-number="3.6.2.5" id="locale"><span class="header-section-number">3.6.2.5</span> Locale</h4>
<p>来自<code>"locales-xx-XX.xml"</code>locale file 的本地化数据可以通过<code>cs:locale</code>元素来重定义或者补充定义。<code>cs:locale</code>元素应该放在<code>cs:info</code>元素后。</p>
<p><code>cs:locale</code>元素的<code>xml:lang</code>属性是可选的，必须设置为<a href="http://books.xmlschemata.org/relaxng/ch19-77191.html">xsd:language locale code</a>中的一种，用来确定使用的语言环境（或方言，见 <a href="locale%20fallback">locale fallback</a>）。</p>
<p>对于<code>cs:locale</code>元素的详细使用，另见 <a href="Terms(术语)">术语</a>、<a href="本地化日期格式">本地化日期格式</a>和<a href="b本地化选项">本地化选项</a>。</p>
<p>下面是一个<code>cs:locale</code>元素的例子：</p>
<pre class="xml"><code>&lt;style&gt;
  &lt;locale xml:lang=&quot;en&quot;&gt;
    &lt;terms&gt;
      &lt;term name=&quot;editortranslator&quot; form=&quot;short&quot;&gt;
        &lt;single&gt;ed. &amp;amp; trans.&lt;/single&gt;
        &lt;multiple&gt;eds. &amp;amp; trans.&lt;/multiple&gt;
      &lt;/term&gt;
    &lt;/terms&gt;
  &lt;/locale&gt;
&lt;/style&gt;</code></pre>
<p><strong>Locale Fallback</strong></p>
<p>本地化文件为语言方言提供了本地化数据；可选的<code>cs:locale</code>元素的<code>xml:lang</code>属性设置为一种语言(例如， <code>"en"</code> 代表英语 ) 或者方言(例如， <code>"en-US"</code> 代表美式英语 ) ，<code>xml:lang</code>属性也可能缺失。Localr fallback 是一种在上述的属性设置中检索来确定本地化单元的机制。这些本地化单元包括日期格式，本地化选项或者术语的特定形式。</p>
<p>对于同一种语言的方言，一种被称为初级方言，其他都是二级方言。下面展示了部分语言的初级方言和二级方言：</p>
<table>
<thead>
<tr>
<th>初级方言</th>
<th>二级方言</th>
</tr>
</thead>
<tbody>
<tr>
<td>de-DE</td>
<td>de-AT, de-CH</td>
</tr>
<tr>
<td>en-US</td>
<td>en-GB</td>
</tr>
<tr>
<td>pt-PT</td>
<td>pt-BR</td>
</tr>
<tr>
<td>zh-CN</td>
<td>zh-TW</td>
</tr>
</tbody>
</table>
<p>这里用一个例子来描述 Locale fallback。如果要选择 <code>"de-AT"</code>(Austrian German)作为使用环境，本地化单元可以来自下面的源（优先级逐渐降低）：</p>
<p>A. 样式文件中的 <code>cs:locale</code>元素</p>
<ul>
<li><code>xml:lang</code>设置为方言 <code>"de-AT"</code></li>
<li><code>xml:lang</code>设置为 <code>"de"</code></li>
<li><code>xml:lang</code>不设置</li>
</ul>
<p>B. Locale files/本地化文件</p>
<ul>
<li><code>xml:lang</code>设置为方言 <code>"de-AT"</code></li>
<li><code>xml:lang</code>设置为对应的初级方言 <code>"de-DE"</code> (standard german)</li>
<li><code>xml:lang</code>设置为<code>"en-US"</code></li>
</ul>
<p>也就是说，如果要使用<code>"de-AT"</code>语言，首先在 Locale files 中寻找<code>"de"</code>对应的 <code>locales-de-XX.xml</code> 文件，即<code>"locales-de-AT.xml"</code>和<code>"locales-de-DE.xml"</code>，由于要设置的语言环境是方言<code>"de-AT"</code>，所以选择<code>de-AT</code>对应的 locale file <code>locales-de-AT.xml</code>。接下来，如果 csl 文件中包含 <code>cs:locale</code>元素，将会覆盖 <code>locales-de-AT.xml</code> 文件的设置。</p>


<div class="bottom-nav">
    <p id="nav-prev" style="text-align: left;">
        <a class="menu-level-2" href="/xml-声明"><b>3.5</b> XML 声明</a> <kbd>←</kbd>
        <span id="nav-next" style="float: right;">
            <kbd>→</kbd> <a class="menu-level-2" href="/locale-files本地化文件"><b>3.7</b> Locale Files(本地化文件)</a>
        </span>
    </p>
</div>


<div class="license">
    <br/>
  <br/>
  <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>
    Mao Zhou
</div>
</div>
</div>
</body>
</html>